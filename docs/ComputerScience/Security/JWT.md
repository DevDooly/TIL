# JWT (JSON Web Token)

**JWT(JSON Web Token)**는 당사자(클라이언트와 서버 등) 간에 정보를 JSON 객체로 안전하게 전송하기 위한 개방형 표준(RFC 7519)입니다. 이 정보는 디지털 서명이 되어 있으므로(Verified) 신뢰할 수 있습니다. 주로 **인증(Authentication)**과 **정보 교환**에 사용됩니다.

## 1. 구조 (Structure)
JWT는 점(`.`)으로 구분된 세 부분으로 구성됩니다.
`xxxxx.yyyyy.zzzzz` (Header.Payload.Signature)

### 1.1 Header (헤더)
토큰의 타입(`JWT`)과 해싱 알고리즘(`HS256`, `RSA` 등) 정보를 담습니다.
```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

### 1.2 Payload (페이로드)
실제 전달하려는 데이터(Claims)를 담습니다. 사용자 ID, 유효기간, 권한 등이 포함됩니다.
*   **주의:** 페이로드는 암호화된 것이 아니라 Base64로 인코딩된 것이므로, 비밀번호 같은 민감 정보를 담으면 안 됩니다.
```json
{
  "sub": "1234567890",
  "name": "John Doe",
  "iat": 1516239022
}
```

### 1.3 Signature (서명)
헤더와 페이로드가 변조되지 않았음을 검증하는 부분입니다. 헤더와 페이로드를 인코딩한 값과, 서버만 알고 있는 **비밀 키(Secret Key)**를 이용해 생성합니다.

## 2. 인증 방식 (Flow)
1.  사용자가 로그인(ID/PW 전송)을 합니다.
2.  서버는 계정을 확인하고, 비밀 키를 사용해 JWT를 생성(발급)하여 클라이언트에게 줍니다.
3.  클라이언트는 JWT를 로컬 스토리지 등에 저장합니다.
4.  이후 클라이언트가 서버에 요청할 때마다 HTTP 헤더(`Authorization: Bearer <token>`)에 JWT를 실어 보냅니다.
5.  서버는 JWT의 서명을 검증하여 유효하면 요청을 처리합니다.

## 3. 장단점

### 장점
*   **Stateless:** 서버가 세션 상태를 유지할 필요가 없어 서버 확장이 용이합니다(Scale-out 유리).
*   **가벼움:** HTTP 헤더에 싣기 부담 없는 크기입니다.
*   **유연성:** 다양한 플랫폼(Web, Mobile)에서 공통적으로 사용할 수 있습니다.

### 단점
*   **한 번 발급되면 통제 불가:** 유효기간이 만료되기 전까지는 탈취당해도 서버에서 강제로 정지시키기 어렵습니다. (이를 보완하기 위해 Access Token 수명을 짧게 하고 Refresh Token을 병행 사용)
*   **Payload 크기:** 너무 많은 정보를 담으면 트래픽이 증가합니다.